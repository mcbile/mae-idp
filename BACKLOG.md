# Backlog

–°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –∏ —É–ª—É—á—à–µ–Ω–∏–π –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ MAE-IDP.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:**
- üî¥ **Critical** ‚Äî –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –±–∞–≥–∏, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- üü† **High** ‚Äî –≤–∞–∂–Ω—ã–µ —Ñ–∏—á–∏, –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- üü° **Medium** ‚Äî —É–ª—É—á—à–µ–Ω–∏—è UX, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- üü¢ **Low** ‚Äî –∫–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, nice-to-have

**–°—Ç–∞—Ç—É—Å—ã:**
- `[ ]` ‚Äî –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- `[~]` ‚Äî –≤ —Ä–∞–±–æ—Ç–µ
- `[x]` ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–æ (–ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ CHANGELOG.md)

---

## üî¥ Critical

### –ë–∞–≥–∏

- [x] **Thread-unsafe parser** ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–π `parser` –≤ mae.py –Ω–µ –∑–∞—â–∏—â—ë–Ω –æ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤. –†–µ—à–µ–Ω–∏–µ: –¥–æ–±–∞–≤–ª–µ–Ω `parser_lock`.

- [x] **Race condition –≤ FolderWatcher** ‚Äî `time.sleep(0.5)` –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤. –†–µ—à–µ–Ω–∏–µ: –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `_wait_for_file_ready()` —Å polling.

- [x] **Tesseract CMD –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è** ‚Äî `setup_tesseract()` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç env var, –Ω–æ pytesseract –æ–∂–∏–¥–∞–µ—Ç `pytesseract.pytesseract.tesseract_cmd`. –†–µ—à–µ–Ω–∏–µ: —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –æ–±–∞.

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- [ ] **–î–æ–±–∞–≤–∏—Ç—å rate limiting** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç DoS –∞—Ç–∞–∫ (—Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Ñ–∞–π–ª–æ–≤ –∑–∞ —Ä–∞–∑).

- [x] **XSS –≤ —Ç–∞–±–ª–∏—Ü–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** ‚Äî `index.html` –≤—Å—Ç–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ innerHTML –±–µ–∑ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è. –†–µ—à–µ–Ω–∏–µ: –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `escapeHtml()`.

---

## üü† High

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- [ ] **–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç** ‚Äî –∏—Å—Ç–æ—Ä–∏—è –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –≤—ã–≥—Ä—É–∑–∫–∏. –•—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏.

- [x] **–†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–∏—Ç—å –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å vendor/invoice/internal –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ. –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –≤–µ–∑–¥–µ (—Ç–∞–±–ª–∏—Ü–∞, —ç–∫—Å–ø–æ—Ä—Ç, –∞—Ä—Ö–∏–≤).

- [ ] **–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞** ‚Äî –ø—Ä–µ–≤—å—é –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ (PDF/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ) —Ä—è–¥–æ–º —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –¥–ª—è —É–¥–æ–±–Ω–æ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏.

- [x] **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Å—Ç–∞—Ç—É—Å–∞** ‚Äî threshold –∏–∑–º–µ–Ω—ë–Ω –Ω–∞ 90%. –¢–µ–ø–µ—Ä—å –¥–ª—è success –Ω—É–∂–Ω—ã vendor + invoice + internal (VAT –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω).

- [ ] **Multi-page PDF** ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã PDF, –Ω–µ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—É—é. –û–±—ä–µ–¥–∏–Ω—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–ª–∏ –≤—ã–±–∏—Ä–∞—Ç—å –ª—É—á—à–∏–π.

- [ ] **Batch processing –≤ GUI** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±—Ä–∞—Ç—å –ø–∞–ø–∫—É –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

- [ ] **–î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –≤–µ–Ω–¥–æ—Ä–æ–≤** ‚Äî —Ä–∞—Å—à–∏—Ä–∏—Ç—å KNOWN_VENDORS –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

---

## üü° Medium

### –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

- [x] **–í—ã–Ω–µ—Å—Ç–∏ magic numbers –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã** ‚Äî `core.py:129` corner —Ä–∞–∑–º–µ—Ä—ã —Ç–µ–ø–µ—Ä—å 50%√ó50% (–ø—Ä–∞–≤–∞—è –≤–µ—Ä—Ö–Ω—è—è —á–µ—Ç–≤–µ—Ä—Ç—å).

- [x] **–£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π output_path** ‚Äî `FolderWatcher.output_path` —É–¥–∞–ª—ë–Ω.

- [x] **–ò—Å–ø—Ä–∞–≤–∏—Ç—å —É—Ç–µ—á–∫—É tkinter** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω try/finally –≤ `_browse_folder_sync()`.

- [ ] **Type hints –≤–µ–∑–¥–µ** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å return type hints –≤ `setup_env.py` –∏ –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã.

### UX

- [ ] **–ü—Ä–µ–≤—å—é –¥–æ–∫—É–º–µ–Ω—Ç–∞** ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –º–∏–Ω–∏–∞—Ç—é—Ä—É –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.

- [ ] **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É, –≤–µ–Ω–¥–æ—Ä—É, –¥–∞—Ç–µ.

- [x] **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ç–∞–±–ª–∏—Ü—ã** ‚Äî –∫–ª–∏–∫ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ index.html).

- [ ] **–ü–æ–∏—Å–∫ –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º** ‚Äî –ø–æ–∏—Å–∫ –ø–æ –ª—é–±–æ–º—É –ø–æ–ª—é.

- [ ] **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** ‚Äî –¥–ª—è –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

### –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è

- [ ] **–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–∞ (DE/EN/RU).

---

## üü¢ Low

### –ö–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∏–µ

- [x] **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é R –≤ results** ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–æ.

- [x] **–î–æ–±–∞–≤–∏—Ç—å favicon** ‚Äî –∏–∫–æ–Ω–∫–∞ —É–∂–µ –µ—Å—Ç—å (inline SVG –≤ index.html:12).

- [x] **–û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é –≤ install.bat** ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ 1.4.0.

- [x] **–ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏** ‚Äî skeleton loader –≤–º–µ—Å—Ç–æ —Å–ø–∏–Ω–Ω–µ—Ä–∞.

- [ ] **–ó–≤—É–∫–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** ‚Äî –∑–≤—É–∫ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ.

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ ] **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** ‚Äî —Ç–µ—Å—Ç–æ–≤—ã–µ PDF –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏.

- [ ] **–í–∏–¥–µ–æ-—Ç—É—Ç–æ—Ä–∏–∞–ª** ‚Äî –∑–∞–ø–∏—Å—å –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

- [ ] **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** ‚Äî Swagger/OpenAPI —á–µ—Ä–µ–∑ FastAPI.

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- [x] **Unit —Ç–µ—Å—Ç—ã** ‚Äî –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ core.py (tests/test_core.py).

- [x] **–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ fetch** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã try/catch –≤ loadResults() –∏ detectGDrive().

- [ ] **CI/CD** ‚Äî GitHub Actions –¥–ª—è –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤.

- [x] **Docker** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –†–µ—à–µ–Ω–∏–µ: –¥–æ–±–∞–≤–ª–µ–Ω—ã Dockerfile –∏ render.yaml.

- [ ] **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª** ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –≤ data/logs/.

---

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

> –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏, –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –µ—ë –≤ CHANGELOG.md —Å –¥–∞—Ç–æ–π –∏ –≤–µ—Ä—Å–∏–µ–π.

### v1.5.0 (2026-01-05)
- [x] Export —Ñ–æ—Ä–º–∞—Ç—ã ‚Äî CSV, Markdown, TXT –≤–º–µ—Å—Ç–æ Excel
- [x] Fix: —ç–∫—Å–ø–æ—Ä—Ç —Å–∫–∞—á–∏–≤–∞–ª—Å—è –∫–∞–∫ `.xlsx.txt`
- [x] UI: dropdown –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞
- [x] Threshold 50% ‚Üí 90% –¥–ª—è success —Å—Ç–∞—Ç—É—Å–∞
- [x] Skeleton loader ‚Äî –∞–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ
- [x] –†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ‚Äî inline editing —Å –ø–µ—Ä–µ—Å—á—ë—Ç–æ–º confidence

### v1.4.0 (2026-01-04)
- [x] –û–Ω–ª–∞–π–Ω –≤–µ—Ä—Å–∏—è ‚Äî –¥–µ–ø–ª–æ–π –Ω–∞ Render.com
- [x] Dockerfile + render.yaml
- [x] –†–µ–±—Ä–µ–Ω–¥–∏–Ω–≥ MAE PDF Parser ‚Üí MAE-IDP
- [x] README —É–ø—Ä–æ—â—ë–Ω –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [x] Fix: XSS –∑–∞—â–∏—Ç–∞ ‚Äî escapeHtml()
- [x] Fix: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ fetch
- [x] Refactor: R ‚Üí results, —É–¥–∞–ª—ë–Ω output_path

### v1.3.0 (2026-01-03)
- [x] –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å: macOS –∏ Linux
- [x] install.sh –¥–ª—è macOS/Linux
- [x] run.sh –¥–ª—è macOS/Linux
- [x] PWA –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è iOS/Android
- [x] –ú–æ–±–∏–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø (0.0.0.0)
- [x] Safe-area-inset –¥–ª—è iPhone

### v1.2.0 (2026-01-0)
- [x] Fix: Tesseract CMD —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] Fix: Thread-safe parser —Å Lock
- [x] Fix: Race condition –≤ FolderWatcher ‚Äî polling –≤–º–µ—Å—Ç–æ sleep
- [x] Fix: –£—Ç–µ—á–∫–∞ tkinter ‚Äî try/finally

### v1.1.0 (2026-01-03)
- [x] –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (core.py)
- [x] CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç batch_rename.py
- [x] CHANGELOG.md
- [x] BACKLOG.md
- [x] –û–±–Ω–æ–≤–∏—Ç—å README.md
- [x] –°–æ–∑–¥–∞—Ç—å CLAUDE.md

---

## –ö–∞–∫ –¥–æ–±–∞–≤–ª—è—Ç—å –∑–∞–¥–∞—á–∏

1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (Critical/High/Medium/Low)
2. –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Å–µ–∫—Ü–∏—é —Å `[ ]`
3. –û–ø–∏—Å–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É –∏ —Ä–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–Ω–æ)
4. –ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ ‚Äî –æ—Ç–º–µ—Ç–∏—Ç—å `[x]` –∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ "–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏"
5. –ü—Ä–∏ —Ä–µ–ª–∏–∑–µ ‚Äî –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ CHANGELOG.md
